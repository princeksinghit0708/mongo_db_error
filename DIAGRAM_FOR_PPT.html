<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>RTT Error Predictive Analytics — Data Flow</title>
  <style>
    * { box-sizing: border-box; }
    body { font-family: 'Segoe UI', Arial, sans-serif; background: #f5f5f5; padding: 40px; margin: 0; }
    h1 { text-align: center; color: #333; margin-bottom: 40px; font-size: 24px; }
    .diagram { display: flex; flex-direction: column; align-items: center; gap: 0; max-width: 700px; margin: 0 auto; }
    .row { display: flex; align-items: center; justify-content: center; gap: 20px; flex-wrap: wrap; }
    .arrow-down { width: 0; height: 0; border-left: 12px solid transparent; border-right: 12px solid transparent; border-top: 20px solid #555; margin: 8px 0; }
    .arrow-right { width: 0; height: 0; border-top: 10px solid transparent; border-bottom: 10px solid transparent; border-left: 24px solid #555; margin: 0 8px; }
    .box { padding: 14px 24px; border-radius: 8px; text-align: center; font-weight: 600; font-size: 13px; min-width: 140px; box-shadow: 0 2px 8px rgba(0,0,0,0.12); }
    .db { background: linear-gradient(135deg, #1e88e5 0%, #1565c0 100%); color: white; border: 2px solid #0d47a1; }
    .process { background: linear-gradient(135deg, #43a047 0%, #2e7d32 100%); color: white; border: 2px solid #1b5e20; }
    .decision { background: linear-gradient(135deg, #fb8c00 0%, #ef6c00 100%); color: white; border: 2px solid #e65100; transform: rotate(0deg); clip-path: polygon(50% 0%, 100% 50%, 50% 100%, 0% 50%); padding: 18px 28px; }
    .storage { background: linear-gradient(135deg, #5e35b1 0%, #4527a0 100%); color: white; border: 2px solid #311b92; }
    .output { background: linear-gradient(135deg, #00897b 0%, #00695c 100%); color: white; border: 2px solid #004d40; }
    .output-box { min-width: 320px; text-align: left; padding: 16px 24px; }
    .output-box .deliverables { margin: 10px 0 0 0; padding-left: 20px; font-size: 12px; font-weight: normal; line-height: 1.6; }
    .output-box .deliverables li { margin-bottom: 6px; }
    .sub { font-size: 11px; font-weight: normal; opacity: 0.95; margin-top: 4px; }
    .branch { display: flex; align-items: center; gap: 12px; }
    .label-yes { color: #2e7d32; font-size: 11px; font-weight: bold; }
    .label-no { color: #c62828; font-size: 11px; font-weight: bold; }
  </style>
</head>
<body>
  <h1>RTT Error Predictive Analytics</h1>

  <div class="diagram">
    <!-- 1. MongoDB -->
    <div class="box db">MongoDB<br><span class="sub">Collections: abc, cde</span></div>
    <div class="arrow-down"></div>

    <!-- 2. Connector -->
    <div class="box process">MongoDB Connector<br><span class="sub">read_collection()</span></div>
    <div class="arrow-down"></div>

    <!-- 3. Decision -->
    <div class="box decision">Schema defined?</div>
    <div class="arrow-down"></div>

    <div class="row">
      <div class="branch">
        <span class="label-yes">Yes</span>
        <div class="box process">Collection Schema<br><span class="sub">extract_columns()<br>4–8 columns</span></div>
      </div>
      <div class="branch">
        <span class="label-no">No</span>
        <div class="box process">Normalize<br><span class="sub">nested structure</span></div>
      </div>
    </div>
    <div class="arrow-down"></div>

    <!-- 4. Combine -->
    <div class="box process">Combine DataFrames<br><span class="sub">data_dict → concat</span></div>
    <div class="arrow-down"></div>

    <!-- 5. SQLite Store -->
    <div class="box storage">SQLite Store<br><span class="sub">store_errors()<br>errors table</span></div>
    <div class="arrow-down"></div>

    <!-- 6. Load -->
    <div class="box process">Load from SQLite<br><span class="sub">load_all_errors()</span></div>
    <div class="arrow-down"></div>

    <!-- 7. Error Analyzer -->
    <div class="box process">Error Analyzer<br><span class="sub">Patterns & Statistics</span></div>
    <div class="arrow-down"></div>

    <!-- 8. Predictive -->
    <div class="box process">Predictive Analytics<br><span class="sub">ML + LLM (Gemini)</span></div>
    <div class="arrow-down"></div>

    <!-- 9. Final Report (after Predictive Analytics) -->
    <div class="box output">Final Report</div>
  </div>
</body>
</html>
